<div *ngIf="error" class="alert alert-danger">{{error}}</div>
<div *ngIf="success" class="alert alert-success">{{success}}</div>
<form name="form" (ngSubmit)="onSubmit()" [formGroup]="f" novalidate>
    <!-- Total number of tests -->
    <div class="form-group" [ngClass]="{'has-error': f.submitted && !f.controls.testsAmount.valid}">
        <label>The total number of tests</label>
        <input formControlName="testsAmount" type="number" class="form-control" />
        <div *ngIf="f.submitted && !f.controls.testsAmount.valid" class="help-block">The total number of tests is required and should be more than zero</div>
    </div>
    <!-- Total number of requirements -->
    <div class="form-group" [ngClass]="{'has-error': f.submitted && !f.controls.requirementsAmount.valid}">
        <label>The total number of requirements</label>
        <input formControlName="requirementsAmount" type="number" class="form-control" />
        <div *ngIf="f.submitted && !f.controls.requirementsAmount.valid" class="help-block">The total number of requirements is required and should be more than zero</div>
    </div>
    <!-- Ratio for types of detail -->
    <label>Ratio between types of detail (n1, n2, n12, n21)</label>
    <div class="row">
        <div class="form-group col-xs-3" [ngClass]="{'has-error': f.submitted && !f.controls.n1.valid}">
            <label>n1</label>
            <input type="number" class="form-control" formControlName="n1"/>
        </div>
        <div class="form-group col-xs-3" [ngClass]="{'has-error': f.submitted && !f.controls.n2.valid}">
            <label>n2</label>
            <input type="number" class="form-control" formControlName="n2"/>
        </div>
        <div class="form-group col-xs-3" [ngClass]="{'has-error': f.submitted && !f.controls.n12.valid}">
            <label>n12</label>
            <input type="number" class="form-control" formControlName="n12" />
        </div>
        <div class="form-group col-xs-3" [ngClass]="{'has-error': f.submitted && !f.controls.n21.valid}">
            <label>n21</label>
            <input type="number" class="form-control" formControlName="n21"/>
        </div>
    </div>
    <div *ngIf="f.submitted && !f.controls.n1.valid && !f.controls.n2.valid && !f.controls.n12.valid && !f.controls.n21.valid" class="help-block">Ratio between types of detail is required and should be in [0;100] range</div>
    <!-- Range boundaries generation -->
    <label>Range boundaries generation</label>
    <div class="row">
        <div class="form-group col-xs-6" [ngClass]="{'has-error': f.submitted && !f.controls.minBoundaryRange.valid}">
            <label>Min range's boundary</label>
            <input type="number" class="form-control" formControlName="minBoundaryRange" />
            <div *ngIf="f.submitted && !f.controls.minBoundaryRange.valid" class="help-block">The min range's boundary is required and should be more than zero</div>
        </div>
        <div class="form-group col-xs-6" [ngClass]="{'has-error': f.submitted && !f.controls.maxBoundaryRange.valid}">
            <label>Max range's boundary</label>
            <input type="number" class="form-control" formControlName="maxBoundaryRange"/>
            <div *ngIf="f.submitted && !f.controls.maxBoundaryRange.valid" class="help-block">The max range's boundary is required and should be more than zero</div>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-6" [ngClass]="{'has-error': f.submitted && !f.controls.minPercentageFromA.valid}">
            <label>Min percentage from A</label>
            <input type="number" class="form-control" formControlName="minPercentageFromA" min="5" max="50"/>
            <div *ngIf="f.submitted && !f.controls.minPercentageFromA.valid" class="help-block">The min percentage from A is required and should be between 5 and 50</div>
        </div>
        <div class="form-group col-xs-6" [ngClass]="{'has-error': f.submitted && !f.controls.maxPercentageFromA.valid}">
            <label>Max percentage from A</label>
            <input type="number" class="form-control" formControlName="maxPercentageFromA" min="5" max="50"/>
            <div *ngIf="f.submitted && !f.controls.maxPercentageFromA.valid" class="help-block">The max percentage from A is required and should be between 5 and 50</div>
        </div>
    </div>
    <!-- Type of borders generation -->
    <div class="form-group" [ngClass]="{'has-error': f.submitted && !f.controls.borderGenerationType.valid}">
        <label>Type of borders generation</label>
        <select class="form-control" formControlName="borderGenerationType">
            <option *ngFor="let c of ['uniform']" [ngValue]="c">{{c}}</option>
        </select>
        <div *ngIf="f.submitted && !f.controls.borderGenerationType.valid" class="help-block">The border generation type is required</div>
    </div>
    <!-- Type of p generation -->
    <div class="form-group" [ngClass]="{'has-error': f.submitted && !f.controls.pGenerationType.valid}">
        <label>Type of p generation</label>
        <select class="form-control" formControlName="pGenerationType">
            <option *ngFor="let c of ['uniform']" [ngValue]="c">{{c}}</option>
        </select>
        <div *ngIf="f.submitted && !f.controls.pGenerationType.valid" class="help-block">The p generation type is required</div>
    </div>
    <div class="form-group">
        <button [disabled]="loading || !f.valid" class="btn btn-primary">Submit</button>
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </div>
</form>